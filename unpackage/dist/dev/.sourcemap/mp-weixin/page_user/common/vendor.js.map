{"version":3,"sources":["uni-app:///util/userApi.js","uni-app:///util/api.js","uni-app:///util/xinanCircleApi.js"],"names":["updataUserInfo","userInfo","Request","url","data","method","getUserLatestBirthday","userId","getApp","globalData","id","getUserCard","getUserFavorites","userFavorites","merchantId","getUserInfo","getUserInfoByPhone","phoneNumber","deleteFriend","friendId","getFriendCategory","addFriendCategory","categoryName","name","friendCategory","categoryObj","deleteFriendCategory","categoryId","getFriend","addFriend","friendCategoryId","invited","messageId","remarkName","deleteFriendRequest","getFriendRequest","postFriendRequest","categoryid","receiverId","packageId","changeFriendData","updataImage","templeUrl","console","log","token","Promise","resolve","reject","uni","uploadFile","BASE_URL","filePath","header","success","res","JSON","parse","fail","err","getAllXinanCircle","page","pageSize","getOtherXinanCircle","updataXinanCircle","xinanCircleObj","editXinanCircle","deleteXinanCircle","heartXinanCircle","momentId","cancelHeartXinanCircle"],"mappings":"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","file":"page_user/common/vendor.js","sourcesContent":["import Request from \"./http\"\r\n\r\n// 修改用户信息 ,userInfo 修改后的用户信息\r\nexport function updataUserInfo(userInfo) {\r\n\treturn Request({\r\n\t\turl: '/user/user',\r\n\t\tdata: userInfo,\r\n\t\tmethod: 'PUT'\r\n\t})\r\n}\r\n\r\n// 根据用户id查询距离用户最近生日天数\r\nexport function getUserLatestBirthday(userId = getApp().globalData.id) {\r\n\treturn Request({\r\n\t\turl: `/user/user/birthday/${userId}`,\r\n\t\tmethod: 'GET'\r\n\t})\r\n}\r\n// 根据用户id查询用户名片\r\nexport function getUserCard(userId = getApp().globalData.id) {\r\n\treturn Request({\r\n\t\turl: `/user/user/card/${userId}`,\r\n\t\tmethod: 'GET'\r\n\t})\r\n}\r\n// 获取当前用户收藏的商家\r\nexport function getUserFavorites() {\r\n\treturn Request({\r\n\t\turl: '/user/user/favorites',\r\n\t\tmethod: 'GET'\r\n\t})\r\n}\r\n//用户根据商家id收藏商家\r\nexport function userFavorites(merchantId) {\r\n\treturn Request({\r\n\t\turl: '/user/user/favorites',\r\n\t\tmethod: 'POST',\r\n\t\tdata: {\r\n\t\t\tmerchantId: merchantId\r\n\t\t}\r\n\t})\r\n}\r\n// 根据id得到用户信息\r\nexport function getUserInfo(id = getApp().globalData.id) {\r\n\treturn Request({\r\n\t\turl: `/user/user/${id}`,\r\n\t\tmethod: 'GET'\r\n\t})\r\n}\r\n\r\n// 根据手机号查询用户\r\nexport function getUserInfoByPhone(phoneNumber) {\r\n\treturn Request({\r\n\t\turl: `/user/user/find/${phoneNumber}`,\r\n\t\tmethod: 'GET'\r\n\t})\r\n}\r\n// 根据好友ID删除好友\r\nexport function deleteFriend(friendId) {\r\n\treturn Request({\r\n\t\turl: `/user/user/friend/${friendId}`,\r\n\t\tmethod: \"DELETE\"\r\n\t})\r\n}\r\n// 查询当前用户好友分类 \r\nexport function getFriendCategory() {\r\n\treturn Request({\r\n\t\turl: '/user/user/friendCategory',\r\n\t\tmethod: \"GET\"\r\n\t})\r\n}\r\n// 插入新的好友分类\r\nexport function addFriendCategory(categoryName) {\r\n\treturn Request({\r\n\t\turl: '/user/user/friendCategory',\r\n\t\tmethod: \"POST\",\r\n\t\tdata: {\r\n\t\t\tname: categoryName\r\n\t\t}\r\n\t})\r\n}\r\n// 根据好友 分组对象 id 修改好友的分组信息, (categoryId, name ,分组对象)\r\nexport function friendCategory(categoryObj, userId) {\r\n\treturn Request({\r\n\t\turl: '/user/user/friendCategory',\r\n\t\tmethod: \"PUT\",\r\n\t\tdata: {\r\n\t\t\tid: categoryObj.id,\r\n\t\t\tname: categoryObj.name,\r\n\t\t\tuserId,\r\n\t\t}\r\n\t})\r\n}\r\n// 根据好友分组信息id删除分组\r\nexport function deleteFriendCategory(categoryId) {\r\n\treturn Request({\r\n\t\turl: `/user/user/friendCategory/${categoryId}`,\r\n\t\tmethod: \"DELETE\",\r\n\t})\r\n}\r\n//查找用户所有好友\r\nexport function getFriend() {\r\n\treturn Request({\r\n\t\turl: `/user/user/friends`,\r\n\t\tmethod: \"GET\",\r\n\t})\r\n}\r\n// 添加好友,根据好友请求的请求来添加 好友分类id ，好友的用户id ，葬礼是否邀请用户，messageId根据好友请求列表得到 好友备注名\r\nexport function addFriend({\r\n\tfriendCategoryId,\r\n\tid,\r\n\tinvited = 0,\r\n\tmessageId,\r\n\tremarkName = null\r\n}) {\r\n\treturn Request({\r\n\t\turl: `/user/user/friends`,\r\n\t\tmethod: \"POST\",\r\n\t\tdata: {\r\n\t\t\tfriendCategoryId,\r\n\t\t\tid,\r\n\t\t\tinvited,\r\n\t\t\tmessageId,\r\n\t\t\tremarkName\r\n\t\t}\r\n\t})\r\n}\r\n//删除好友请求, 添加好友后删除请求列表\r\nexport function deleteFriendRequest(friendId) {\r\n\treturn Request({\r\n\t\turl: `/user/user/friends/request/${friendId}`,\r\n\t\tmethod: \"DELETE\",\r\n\t})\r\n}\r\n\r\n// 查看好友请求 ， 别人想加你为好友\r\nexport function getFriendRequest() {\r\n\treturn Request({\r\n\t\turl: `/user/user/friends/request`,\r\n\t\tmethod: \"GET\",\r\n\t})\r\n}\r\n// 发送好友请求 加别人为好友   categoryid给对方的分类 , 接收者用户id\r\nexport function postFriendRequest(categoryid, receiverId) {\r\n\treturn Request({\r\n\t\turl: `/user/user/friends/request`,\r\n\t\tmethod: \"POST\",\r\n\t\tdata: {\r\n\t\t\tpackageId: categoryid,\r\n\t\t\treceiverId\r\n\t\t}\r\n\t})\r\n}\r\n//更改好友信息 ， 改备注 ，邀请 ，和分类\r\nexport function changeFriendData(friendCategoryId, id, invited = 0, remarkName = null) {\r\n\treturn Request({\r\n\t\turl: `/user/user/friends`,\r\n\t\tmethod: \"PUT\",\r\n\t\tdata: {\r\n\t\t\tfriendCategoryId,\r\n\t\t\tid,\r\n\t\t\tinvited,\r\n\t\t\tremarkName\r\n\t\t}\r\n\t})\r\n}","import Request from \"./http\"\r\n\r\n\r\n// 上传图片\r\nexport function updataImage(templeUrl) {\r\n\tconsole.log(getApp().globalData.token)\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tuni.uploadFile({\r\n\t\t\turl: getApp().globalData.BASE_URL + '/user/common/upload',\r\n\t\t\tfilePath: templeUrl,\r\n\t\t\tname: 'image',\r\n\t\t\theader: {\r\n\t\t\t\t\"Content-Type\": \"multipart/form-data\",\r\n\t\t\t\t\"token\": getApp().globalData.token,\r\n\t\t\t},\r\n\t\t\tsuccess(res) {\r\n\t\t\t\tJSON.parse(res.data)\r\n\t\t\t\tresolve(JSON.parse(res.data).data)\r\n\t\t\t},\r\n\t\t\tfail(err) {\r\n\t\t\t\treject(err)\r\n\t\t\t}\r\n\t\t});\r\n\t})\r\n}\r\n","import Request from \"./http\"\r\n// 分页查看所有的安心圈\r\nexport function getAllXinanCircle(page, pageSize) {\r\n\treturn Request({\r\n\t\turl: `/user/moment?page=${page}&pageSize=${pageSize}`,\r\n\t\tmethod: 'GET'\r\n\t})\r\n}\r\n// 分页查看指定用户的安心圈(查看别人的安心圈)\r\nexport function getOtherXinanCircle(page, pageSize, userId = getApp().globalData.id) {\r\n\treturn Request({\r\n\t\turl: `/user/moment/${userId}?page=${page}&pageSize=${pageSize}`,\r\n\t\tmethod: 'GET',\r\n\t})\r\n}\r\n// 发布新的安心圈动态\r\nexport function updataXinanCircle(xinanCircleObj) {\r\n\treturn Request({\r\n\t\turl: '/user/moment',\r\n\t\tmethod: 'POST',\r\n\t\tdata: xinanCircleObj\r\n\t})\r\n}\r\n// 改动安心圈动态\r\nexport function editXinanCircle(xinanCircleObj) {\r\n\treturn Request({\r\n\t\turl: '/user/moment',\r\n\t\tmethod: 'PUT',\r\n\t\tdata: xinanCircleObj\r\n\t})\r\n}\r\n// 根据id删除安心圈动态\r\nexport function deleteXinanCircle(id) {\r\n\treturn Request({\r\n\t\turl: `/user/moment/${id}`,\r\n\t\tmethod: 'DELETE',\r\n\t})\r\n}\r\n// 用户对安心圈点赞操作\r\nexport function heartXinanCircle(momentId) {\r\n\tlet userId = getApp().globalData.id\r\n\treturn Request({\r\n\t\turl: '/user/moment/likes',\r\n\t\tmethod: 'POST',\r\n\t\tdata: {\r\n\t\t\tmomentId,\r\n\t\t\tuserId\r\n\t\t}\r\n\t})\r\n}\r\n// 用户根据安心圈id撤销点赞\r\nexport function cancelHeartXinanCircle(momentId) {\r\n\treturn Request({\r\n\t\turl: `/user/moment/likes/${momentId}`,\r\n\t\tmethod: 'DELETE',\r\n\t})\r\n}"],"sourceRoot":""}